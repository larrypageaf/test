window.__require=function t(e,n,o){function r(c,s){if(!n[c]){if(!e[c]){var a=c.split("/");if(a=a[a.length-1],!e[a]){var l="function"==typeof __require&&__require;if(!s&&l)return l(a,!0);if(i)return i(a,!0);throw new Error("Cannot find module '"+c+"'")}c=a}var u=n[c]={exports:{}};e[c][0].call(u.exports,function(t){return r(e[c][1][t]||t)},u,u.exports,t,e,n,o)}return n[c].exports}for(var i="function"==typeof __require&&__require,c=0;c<o.length;c++)r(o[c]);return r}({APIService:[function(t,e,n){"use strict";cc._RF.push(e,"c65a7X/u/JAoaJcgYIWIQwP","APIService");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},c=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function c(t){try{a(o.next(t))}catch(e){i(e)}}function s(t){try{a(o.throw(t))}catch(e){i(e)}}function a(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(c,s)}a((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,r,i,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return a([t,e])}}function a(i){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,o=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!(r=(r=c.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){c=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){c.label=i[1];break}if(6===i[0]&&c.label<r[1]){c.label=r[1],r=i;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(i);break}r[2]&&c.ops.pop(),c.trys.pop();continue}i=e.call(t,c)}catch(s){i=[6,s],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./PopupMgr"),l=t("./SceneMgr"),u=t("./WalletMgr"),p=cc._decorator,d=p.ccclass,f=p.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.baseUrl="https://dual-asset-production.up.railway.app",e.s_teleID="",e.userInfo=null,e}var n;return r(e,t),n=e,e.prototype.onLoad=function(){this.baseUrl="https://dual-asset-production.up.railway.app",n.s_intance=this},e.prototype.start=function(){this.CheckPrivateKeyTele()},e.prototype.CheckPrivateKeyTele=function(){return c(this,void 0,void 0,function(){var t,e,n;return s(this,function(o){switch(o.label){case 0:return window.Telegram?[4,window.Telegram.WebApp.initData]:[3,3];case 1:return t=o.sent(),[4,window.Telegram.WebApp.initDataUnsafe];case 2:o.sent()&&(this.s_teleID=t),console.log(this.s_teleID),o.label=3;case 3:return""===this.s_teleID?[3,6]:[4,this.requestGetPrivateKey()];case 4:return(e=o.sent()).message&&a.default.s_instance.showMessage("Invalid account",!1),e&&u.default.s_instance.address?[4,this.updateWallet(this.s_teleID)]:[3,6];case 5:n=o.sent(),console.log(n),n.message&&a.default.s_instance.showMessage("Invalid address",!0),o.label=6;case 6:return[2]}})})},e.prototype.requestGetPrivateKey=function(){return c(this,void 0,void 0,function(){var t,e,n;return s(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),t={auth:this.s_teleID},[4,fetch(this.baseUrl+"/login",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(t)})];case 1:return[4,o.sent().json()];case 2:return e=o.sent(),this.userInfo=e.data,u.default.s_instance.updateWalletInfo(),[2,e];case 3:return n=o.sent(),console.log("An ERROR HAPPENED IN THE BUYING PROCESS :::: "+n),[3,4];case 4:return[2]}})})},e.prototype.getListRef=function(){return c(this,void 0,void 0,function(){var t,e;return s(this,function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),t={auth:this.s_teleID},[4,fetch(this.baseUrl+"/getListRef",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(t)})];case 1:return[4,n.sent().json()];case 2:return[2,n.sent()];case 3:return e=n.sent(),console.log("An ERROR HAPPENED IN THE BUYING PROCESS :::: "+e),[3,4];case 4:return[2]}})})},e.prototype.getListLeaderboard=function(){return c(this,void 0,void 0,function(){var t,e;return s(this,function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),t={auth:this.s_teleID},[4,fetch(this.baseUrl+"/getLeaderboard",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(t)})];case 1:return[4,n.sent().json()];case 2:return[2,n.sent()];case 3:return e=n.sent(),console.log("An ERROR HAPPENED IN THE BUYING PROCESS :::: "+e),[3,4];case 4:return[2]}})})},e.prototype.checkDeposit=function(){return c(this,void 0,void 0,function(){var t,e,n;return s(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),t={auth:this.s_teleID},[4,fetch(this.baseUrl+"/checkDeposit",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(t)})];case 1:return[4,o.sent().json()];case 2:return e=o.sent(),this.userInfo=e.data,u.default.s_instance.updateWalletInfo(),[2,e];case 3:return n=o.sent(),console.log("An ERROR HAPPENED IN THE BUYING PROCESS :::: "+n),[3,4];case 4:return[2]}})})},e.prototype.withDraw=function(t){return c(this,void 0,void 0,function(){var e,n,o;return s(this,function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),l.default.s_intance.showLoading(),e={auth:this.s_teleID,amount:t},[4,fetch(this.baseUrl+"/withdrawTon",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(e)})];case 1:return n=r.sent(),l.default.s_intance.hildeLoading(),[4,n.json()];case 2:return[2,r.sent()];case 3:return o=r.sent(),l.default.s_intance.hildeLoading(),console.log("An ERROR HAPPENED IN THE BUYING PROCESS :::: "+o),[3,4];case 4:return[2]}})})},e.prototype.swap=function(t,e,n){return c(this,void 0,void 0,function(){var o,r,i;return s(this,function(c){switch(c.label){case 0:return c.trys.push([0,3,,4]),l.default.s_intance.showLoading(),o={auth:this.s_teleID,amount:n,input:t,output:e},[4,fetch(this.baseUrl+"/swap",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(o)})];case 1:return r=c.sent(),l.default.s_intance.hildeLoading(),[4,r.json()];case 2:return[2,c.sent()];case 3:return i=c.sent(),l.default.s_intance.hildeLoading(),console.log("An ERROR HAPPENED IN THE BUYING PROCESS :::: "+i),[3,4];case 4:return[2]}})})},e.prototype.bet=function(t,e){return c(this,void 0,void 0,function(){var n,o,r;return s(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),l.default.s_intance.showLoading(),n={auth:this.s_teleID,amount:t,type:e},[4,fetch(this.baseUrl+"/bet",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(n)})];case 1:return o=i.sent(),l.default.s_intance.hildeLoading(),[4,o.json()];case 2:return[2,i.sent()];case 3:return r=i.sent(),l.default.s_intance.hildeLoading(),console.log("An ERROR HAPPENED IN THE BUYING PROCESS :::: "+r),[3,4];case 4:return[2]}})})},e.prototype.updateWallet=function(t){return c(this,void 0,void 0,function(){var e,n;return s(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),e={auth:t,wallet:u.default.s_instance.address},[4,fetch(this.baseUrl+"/updateAddress",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(e)})];case 1:return[4,o.sent().json()];case 2:return[2,o.sent()];case 3:return n=o.sent(),console.log("An ERROR HAPPENED IN THE BUYING PROCESS :::: "+n),[3,4];case 4:return[2]}})})},e.prototype.finishOrder=function(t){return c(this,void 0,void 0,function(){var e,n;return s(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),e={auth:this.s_teleID,betId:t},console.log(e),[4,fetch(this.baseUrl+"/finish",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(e)})];case 1:return[4,o.sent().json()];case 2:return[2,o.sent()];case 3:return n=o.sent(),console.log("An ERROR HAPPENED IN THE BUYING PROCESS :::: "+n),[3,4];case 4:return[2]}})})},e.prototype.getAddress=function(t){return c(this,void 0,void 0,function(){var e,n;return s(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),e={walletHex:t},[4,fetch(this.baseUrl+"/getAddress",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(e)})];case 1:return[4,o.sent().json()];case 2:return[2,o.sent()];case 3:return n=o.sent(),console.log("An ERROR HAPPENED IN THE BUYING PROCESS :::: "+n),[3,4];case 4:return[2]}})})},e.prototype.getHistory=function(){return c(this,void 0,void 0,function(){var t,e;return s(this,function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),t={auth:this.s_teleID},[4,fetch(this.baseUrl+"/getHistories",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(t)})];case 1:return[4,n.sent().json()];case 2:return[2,n.sent()];case 3:return e=n.sent(),console.log("An ERROR HAPPENED IN THE BUYING PROCESS :::: "+e),[3,4];case 4:return[2]}})})},e.prototype.getHistoryBet=function(){return c(this,void 0,void 0,function(){var t,e;return s(this,function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),t={auth:this.s_teleID},[4,fetch(this.baseUrl+"/getHistoryBet",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(t)})];case 1:return[4,n.sent().json()];case 2:return[2,n.sent()];case 3:return e=n.sent(),console.log("An ERROR HAPPENED IN THE BUYING PROCESS :::: "+e),[3,4];case 4:return[2]}})})},e.prototype.getCurrentBet=function(){return c(this,void 0,void 0,function(){var t,e;return s(this,function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),t={auth:this.s_teleID},[4,fetch(this.baseUrl+"/betProgress",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(t)})];case 1:return[4,n.sent().json()];case 2:return[2,n.sent()];case 3:return e=n.sent(),console.log("An ERROR HAPPENED IN THE BUYING PROCESS :::: "+e),[3,4];case 4:return[2]}})})},e.prototype.swapCoin=function(){return c(this,void 0,void 0,function(){var t,e;return s(this,function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),t={auth:this.s_teleID},[4,fetch(this.baseUrl+"/betProgress",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(t)})];case 1:return[4,n.sent().json()];case 2:return[2,n.sent()];case 3:return e=n.sent(),console.log("An ERROR HAPPENED IN THE BUYING PROCESS :::: "+e),[3,4];case 4:return[2]}})})},e.prototype.getJettonAddress=function(t){return c(this,void 0,void 0,function(){var e,n;return s(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),e={wallet:t},[4,fetch(this.baseUrl+"/geJettontAddress",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(e)})];case 1:return[4,o.sent().json()];case 2:return[2,o.sent()];case 3:return n=o.sent(),console.log("An ERROR HAPPENED IN THE BUYING PROCESS :::: "+n),[3,4];case 4:return[2]}})})},e.prototype.requestGetTokenPrice=function(t){return c(this,void 0,void 0,function(){var e,n;return s(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),"USDT"==(t=t.toUpperCase())?[2,1]:[4,fetch("https://api.binance.com/api/v3/ticker/price?symbol=TONUSDT",{method:"GET"})];case 1:return[4,o.sent().json()];case 2:return(e=o.sent())&&e.price?[2,Number(e.price)]:[2,0];case 3:return n=o.sent(),console.log("An ERROR HAPPENED requestGetBNBPrice :::: "+n),[3,4];case 4:return[2]}})})},i([f({type:String})],e.prototype,"baseUrl",void 0),n=i([d],e)}(cc.Component);n.default=h,cc._RF.pop()},{"./PopupMgr":"PopupMgr","./SceneMgr":"SceneMgr","./WalletMgr":"WalletMgr"}],BottomSelected:[function(t,e,n){"use strict";cc._RF.push(e,"8d3adCqC9xBV7hGbpA8RnAc","BottomSelected");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=t("./SceneMgr"),s=cc._decorator,a=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.parentNode=new Array,e.arrIcon=new Array,e.arrIconSelected=new Array,e}var n;return r(e,t),n=e,e.prototype.onLoad=function(){n.s_instance=this},e.prototype.start=function(){},e.prototype.resetItem=function(){var t=this;this.node.children.forEach(function(e,n){e.getComponent(cc.Sprite).spriteFrame=t.arrIcon[n]})},e.prototype.selectItem=function(t){var e=this;console.log(t),this.parentNode.forEach(function(n,o){t==o?(n.spriteFrame=e.arrIconSelected[o],console.log(n)):n.spriteFrame=e.arrIcon[o]})},e.prototype.selectItemHome=function(){c.default.s_intance.onClickGameplay(),this.selectItem(0)},e.prototype.selectItemLeaderboard=function(){c.default.s_intance.onClickLeaderboard(),this.selectItem(1)},e.prototype.selectItemHistory=function(){this.selectItem(2),c.default.s_intance.onClickHistory()},e.prototype.selectItemWallet=function(){c.default.s_intance.onClickWallet(),this.selectItem(3)},e.s_instance=null,i([l(Array(cc.Sprite))],e.prototype,"parentNode",void 0),i([l(Array(cc.SpriteFrame))],e.prototype,"arrIcon",void 0),i([l(Array(cc.SpriteFrame))],e.prototype,"arrIconSelected",void 0),n=i([a],e)}(cc.Component);n.default=u,cc._RF.pop()},{"./SceneMgr":"SceneMgr"}],ChartItem:[function(t,e,n){"use strict";cc._RF.push(e,"77a3b7+lB1Ct57UM6q5Uk3a","ChartItem");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=cc._decorator,s=c.ccclass,a=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return r(e,t),e.prototype.start=function(){},e.prototype.updatePosition=function(){this.node.position.y=50},i([a(cc.Label)],e.prototype,"label",void 0),i([a],e.prototype,"text",void 0),i([s],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],Constant:[function(t,e,n){"use strict";cc._RF.push(e,"c0d2eqId2VGuICl1pCDopbx","Constant"),Object.defineProperty(n,"__esModule",{value:!0}),n.WalletUI=void 0,function(t){t[t.MainMenuUI=0]="MainMenuUI",t[t.HomeUI=1]="HomeUI",t[t.Leaderboard=2]="Leaderboard",t[t.HistoryUI=3]="HistoryUI",t[t.WalletUI=4]="WalletUI",t[t.Swap=5]="Swap"}(n.WalletUI||(n.WalletUI={})),cc._RF.pop()},{}],FriendItem:[function(t,e,n){"use strict";cc._RF.push(e,"005e81l5JJNEp2ATrHTbUc1","FriendItem");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=t("./Utils"),s=cc._decorator,a=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.namelbl=null,e.scoreLbl=null,e.orderLbl=null,e}return r(e,t),e.prototype.start=function(){},e.prototype.updateItem=function(t,e,n){void 0===n&&(n=0),this.namelbl.string=c.Utils.hideName(t),this.scoreLbl.string=c.Utils.roundNumber(e)+" USDT",n>0&&(this.orderLbl.string=""+n)},i([l(cc.Label)],e.prototype,"namelbl",void 0),i([l(cc.Label)],e.prototype,"scoreLbl",void 0),i([l(cc.Label)],e.prototype,"orderLbl",void 0),i([a],e)}(cc.Component);n.default=u,cc._RF.pop()},{"./Utils":"Utils"}],GameplayMgr:[function(t,e,n){"use strict";cc._RF.push(e,"ccdaabqbHNFBq3xNnvEbdqW","GameplayMgr");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},c=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function c(t){try{a(o.next(t))}catch(e){i(e)}}function s(t){try{a(o.throw(t))}catch(e){i(e)}}function a(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(c,s)}a((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,r,i,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return a([t,e])}}function a(i){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,o=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!(r=(r=c.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){c=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){c.label=i[1];break}if(6===i[0]&&c.label<r[1]){c.label=r[1],r=i;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(i);break}r[2]&&c.ops.pop(),c.trys.pop();continue}i=e.call(t,c)}catch(s){i=[6,s],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./APIService"),l=t("./ItemOrder"),u=t("./SceneMgr"),p=t("./Utils"),d=t("./WalletMgr"),f=cc._decorator,h=f.ccclass,y=f.property,b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.chartItem=null,e.ruleNode=null,e.chooseMoney=null,e.currentPrice=null,e.usdt=null,e.usdtt=null,e.amountEdb=null,e.betItem=null,e.betListNode=null,e.amountAvailable=null,e.slotInfoNode=null,e.usdtInfoNode=null,e.slotAvailale=null,e.numberUpdateChar=0,e.isChooseUSDT=!0,e.price=0,e}var n;return r(e,t),n=e,e.prototype.onLoad=function(){n.s_intance=this},e.prototype.start=function(){return c(this,void 0,void 0,function(){return s(this,function(){return this.getPrice(),this.intervalPrice=setInterval(this.getPrice,1e3),n.s_intance.updateProgressBet(),this.amountAvailable.string=p.Utils.roundNumber(a.default.s_intance.userInfo.user.usdt,2)+" USDT",this.slotAvailale.string=a.default.s_intance.userInfo.user.number_bet+"/6 slots",[2]})})},e.prototype.sleep=function(t){return new Promise(function(e){setTimeout(e,t)})},e.prototype.onClickRule=function(){this.ruleNode.active=!0},e.prototype.onClickSlotInf=function(){this.slotInfoNode.active=!this.slotInfoNode.active},e.prototype.onClickUsdtInfo=function(){this.usdtInfoNode.active=!this.usdtInfoNode.active},e.prototype.getPrice=function(){return c(this,void 0,void 0,function(){var t,e,o,r,i,c,u;return s(this,function(s){switch(s.label){case 0:return t=n.s_intance,[4,a.default.s_intance.requestGetTokenPrice("TON")];case 1:for(t.price=s.sent(),n.s_intance.currentPrice.string="TON/USDT\n$"+n.s_intance.price,e=n.s_intance.betListNode.children,o=0;o<e.length;o++)r=e[o],i=r.getComponent(l.default),c=100*n.s_intance.price/i.priceEntry-100,u=i.amountdata*c/100,i.updatePNL(n.s_intance.price,u,c);return d.default.s_instance.updatePrice(Number(n.s_intance.price)),[2]}})})},e.prototype.updateProgressBet=function(){return c(this,void 0,void 0,function(){var t,e,o,r,i,c,u,p;return s(this,function(s){switch(s.label){case 0:return[4,a.default.s_intance.getCurrentBet()];case 1:for(t=s.sent(),console.log(t),e=this.betListNode.children,o=0;o<e.length;o++)(r=e[o]).destroy();for(o=t.data.length-1;o>=0;o--)r=t.data[o],i=cc.instantiate(this.betItem),this.betListNode.addChild(i),c=i.getComponent(l.default),new Date(r.updatedAt),u=r.amount*(n.s_intance.price-r.price),p=100*n.s_intance.price/r.price-100,c.initData(r.price,r.slot,n.s_intance.price,r.amount,u,r.createdAt,r._id,r.type,p);return[2]}})})},e.prototype.onClickBet=function(){return c(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return u.default.s_intance.showLoading(),[4,a.default.s_intance.bet(Number(this.amountEdb.string),this.isChooseUSDT?"usdt":"usdt.t")];case 1:return t.sent(),[4,n.s_intance.updateProgressBet()];case 2:return t.sent(),[4,a.default.s_intance.requestGetPrivateKey()];case 3:return t.sent(),this.isChooseUSDT?this.amountAvailable.string=p.Utils.roundNumber(a.default.s_intance.userInfo.user.usdt,4)+" USDT":this.amountAvailable.string=p.Utils.roundNumber(a.default.s_intance.userInfo.user.usdt_t,4)+" USDT.t",this.slotAvailale.string=a.default.s_intance.userInfo.user.number_bet+"/6 slots",u.default.s_intance.hildeLoading(),[2]}})})},e.prototype.onClickChooseMoeny=function(){this.isChooseUSDT=!this.isChooseUSDT,this.isChooseUSDT?(this.chooseMoney.spriteFrame=this.usdt,this.amountAvailable.string=p.Utils.roundNumber(a.default.s_intance.userInfo.user.usdt,4)+" USDT"):(this.chooseMoney.spriteFrame=this.usdtt,this.amountAvailable.string=p.Utils.roundNumber(a.default.s_intance.userInfo.user.usdt_t,4)+" USDT.t")},i([y(cc.Prefab)],e.prototype,"chartItem",void 0),i([y(cc.Node)],e.prototype,"ruleNode",void 0),i([y(cc.Sprite)],e.prototype,"chooseMoney",void 0),i([y(cc.Label)],e.prototype,"currentPrice",void 0),i([y(cc.SpriteFrame)],e.prototype,"usdt",void 0),i([y(cc.SpriteFrame)],e.prototype,"usdtt",void 0),i([y(cc.EditBox)],e.prototype,"amountEdb",void 0),i([y(cc.Prefab)],e.prototype,"betItem",void 0),i([y(cc.Node)],e.prototype,"betListNode",void 0),i([y(cc.Label)],e.prototype,"amountAvailable",void 0),i([y(cc.Node)],e.prototype,"slotInfoNode",void 0),i([y(cc.Node)],e.prototype,"usdtInfoNode",void 0),i([y(cc.Label)],e.prototype,"slotAvailale",void 0),n=i([h],e)}(cc.Component);n.default=b,cc._RF.pop()},{"./APIService":"APIService","./ItemOrder":"ItemOrder","./SceneMgr":"SceneMgr","./Utils":"Utils","./WalletMgr":"WalletMgr"}],HelloWorld:[function(t,e){"use strict";cc._RF.push(e,"280c3rsZJJKnZ9RqbALVwtK","HelloWorld"),cc.Class({extends:cc.Component,properties:{label:{default:null,type:cc.Label},text:"Hello, World!"},onLoad:function(){this.label.string=this.text},update:function(){}}),cc._RF.pop()},{}],HistoryBetItem:[function(t,e,n){"use strict";cc._RF.push(e,"c020bjNCa5NkbwKf5MtTRz1","HistoryBetItem");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=t("./Utils"),s=cc._decorator,a=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.entryPrice=null,e.closePrice=null,e.closeQuantity=null,e.pnl=null,e.fee=null,e.openTime=null,e.closeTime=null,e.iconHeader=null,e.iconUSDT=null,e.iconUSDTT=null,e}return r(e,t),e.prototype.start=function(){},e.prototype.initData=function(t,e,n,o,r,i,s,a,l){this.entryPrice.string=""+t,this.closePrice.string=""+c.Utils.roundNumber(n+o),this.closeQuantity.string=n+" "+a.toUpperCase(),this.pnl.string=""+c.Utils.roundNumber(o),this.fee.string=""+c.Utils.roundNumber(.2*o),this.openTime.string=""+i,this.closeTime.string=""+s,this.iconHeader.spriteFrame="usdt"==l?this.iconUSDT:this.iconUSDTT},i([l(cc.Label)],e.prototype,"entryPrice",void 0),i([l(cc.Label)],e.prototype,"closePrice",void 0),i([l(cc.Label)],e.prototype,"closeQuantity",void 0),i([l(cc.Label)],e.prototype,"pnl",void 0),i([l(cc.Label)],e.prototype,"fee",void 0),i([l(cc.Label)],e.prototype,"openTime",void 0),i([l(cc.Label)],e.prototype,"closeTime",void 0),i([l(cc.Sprite)],e.prototype,"iconHeader",void 0),i([l(cc.SpriteFrame)],e.prototype,"iconUSDT",void 0),i([l(cc.SpriteFrame)],e.prototype,"iconUSDTT",void 0),i([a],e)}(cc.Component);n.default=u,cc._RF.pop()},{"./Utils":"Utils"}],HistoryBet:[function(t,e,n){"use strict";cc._RF.push(e,"a13e4DiZR9C2puTzoT8Sr6j","HistoryBet");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},c=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function c(t){try{a(o.next(t))}catch(e){i(e)}}function s(t){try{a(o.throw(t))}catch(e){i(e)}}function a(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(c,s)}a((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,r,i,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return a([t,e])}}function a(i){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,o=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!(r=(r=c.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){c=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){c.label=i[1];break}if(6===i[0]&&c.label<r[1]){c.label=r[1],r=i;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(i);break}r[2]&&c.ops.pop(),c.trys.pop();continue}i=e.call(t,c)}catch(s){i=[6,s],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./APIService"),l=t("./HistoryBetItem"),u=cc._decorator,p=u.ccclass,d=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.content=null,e.itemPrefab=null,e}return r(e,t),e.prototype.start=function(){},e.prototype.onEnable=function(){return c(this,void 0,void 0,function(){var t,e,n,o,r,i,c;return s(this,function(s){switch(s.label){case 0:return[4,a.default.s_intance.getHistoryBet()];case 1:for(t=s.sent(),console.log(t),e=this.content.children,n=0;n<e.length;n++)(o=e[n]).destroy();for(n=t.data.length-1;n>=0;n--)o=t.data[n],console.log(o),r=cc.instantiate(this.itemPrefab),this.content.addChild(r),i=r.getComponent(l.default),new Date(o.updatedAt),(c=o.amount*(o.finishPrice-o.price))<0&&(c=0),i.initData(o.price,o.finishPrice,o.reward,c,0,o.createdAt,o.updatedAt,o.reawardType,o.type);return[2]}})})},i([d(cc.Node)],e.prototype,"content",void 0),i([d(cc.Prefab)],e.prototype,"itemPrefab",void 0),i([p],e)}(cc.Component);n.default=f,cc._RF.pop()},{"./APIService":"APIService","./HistoryBetItem":"HistoryBetItem"}],HistoryItem:[function(t,e,n){"use strict";cc._RF.push(e,"974d8ScJKFPT4jRHagO4/Dp","HistoryItem");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=cc._decorator,s=c.ccclass,a=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.time=null,e.from=null,e.to=null,e.amount=null,e.method=null,e}return r(e,t),e.prototype.start=function(){},e.prototype.initItem=function(t,e,n,o,r){this.time.string=t,this.from.string=e,this.to.string=n,this.amount.string=o+" TON",this.method.string=r},i([a(cc.Label)],e.prototype,"time",void 0),i([a(cc.Label)],e.prototype,"from",void 0),i([a(cc.Label)],e.prototype,"to",void 0),i([a(cc.Label)],e.prototype,"amount",void 0),i([a(cc.Label)],e.prototype,"method",void 0),i([s],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],ItemOrder:[function(t,e,n){"use strict";cc._RF.push(e,"1e9ceBh/R1KSKX0P2TidLkE","ItemOrder");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},c=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function c(t){try{a(o.next(t))}catch(e){i(e)}}function s(t){try{a(o.throw(t))}catch(e){i(e)}}function a(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(c,s)}a((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,r,i,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return a([t,e])}}function a(i){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,o=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!(r=(r=c.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){c=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){c.label=i[1];break}if(6===i[0]&&c.label<r[1]){c.label=r[1],r=i;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(i);break}r[2]&&c.ops.pop(),c.trys.pop();continue}i=e.call(t,c)}catch(s){i=[6,s],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./APIService"),l=t("./GameplayMgr"),u=t("./SceneMgr"),p=t("./Utils"),d=cc._decorator,f=d.ccclass,h=d.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.priceOrder=null,e.slot=null,e.price=null,e.amount=null,e.PNL=null,e.time=null,e.ROI=null,e.orderTitle=null,e.usdtTitle=null,e.usdtTTitle=null,e}return r(e,t),e.prototype.start=function(){},e.prototype.initData=function(t,e,n,o,r,i,c,s,a){this.priceOrder.string=""+t,this.slot.string=""+e,this.price.string=""+n,this.amount.string=""+o,this.PNL.string=(r>=0?"<color=#00ff00>":"<color=#D80303>")+r.toFixed(3)+"</c>",this.time.string=""+i.substring(5,i.length-8).replace("T"," "),this.priceEntry=t,this.orderId=c,this.amountdata=o,this.ROI.string=(a>=0?"<color=#00ff00>":"<color=#D80303>")+p.Utils.roundNumber(a,3)+"%</c>",this.orderTitle.spriteFrame="usdt.t"==s?this.usdtTTitle:this.usdtTitle},e.prototype.updatePNL=function(t,e,n){this.price.string=""+t,this.PNL.string=(e>=0?"<color=#00ff00>":"<color=#D80303>")+e.toFixed(3)+"</c>",this.ROI.string=(n>=0?"<color=#00ff00>":"<color=#D80303>")+p.Utils.roundNumber(n,3)+"%</c>"},e.prototype.finishOrder=function(){return c(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return u.default.s_intance.showLoading(),[4,a.default.s_intance.finishOrder(this.orderId)];case 1:return t.sent(),[4,a.default.s_intance.requestGetPrivateKey()];case 2:return t.sent(),u.default.s_intance.hildeLoading(),[4,l.default.s_intance.updateProgressBet()];case 3:return t.sent(),[2]}})})},i([h(cc.Label)],e.prototype,"priceOrder",void 0),i([h(cc.Label)],e.prototype,"slot",void 0),i([h(cc.Label)],e.prototype,"price",void 0),i([h(cc.Label)],e.prototype,"amount",void 0),i([h(cc.RichText)],e.prototype,"PNL",void 0),i([h(cc.Label)],e.prototype,"time",void 0),i([h(cc.RichText)],e.prototype,"ROI",void 0),i([h(cc.Sprite)],e.prototype,"orderTitle",void 0),i([h(cc.SpriteFrame)],e.prototype,"usdtTitle",void 0),i([h(cc.SpriteFrame)],e.prototype,"usdtTTitle",void 0),i([f],e)}(cc.Component);n.default=y,cc._RF.pop()},{"./APIService":"APIService","./GameplayMgr":"GameplayMgr","./SceneMgr":"SceneMgr","./Utils":"Utils"}],LeaderboardMgr:[function(t,e,n){"use strict";cc._RF.push(e,"fd734Fud1lJhIXryKOwMr89","LeaderboardMgr");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},c=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function c(t){try{a(o.next(t))}catch(e){i(e)}}function s(t){try{a(o.throw(t))}catch(e){i(e)}}function a(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(c,s)}a((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,r,i,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return a([t,e])}}function a(i){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,o=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!(r=(r=c.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){c=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){c.label=i[1];break}if(6===i[0]&&c.label<r[1]){c.label=r[1],r=i;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(i);break}r[2]&&c.ops.pop(),c.trys.pop();continue}i=e.call(t,c)}catch(s){i=[6,s],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./APIService"),l=t("./FriendItem"),u=t("./SceneMgr"),p=cc._decorator,d=p.ccclass,f=p.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.parentLeaderboardNode=null,e.parentFrienddNode=null,e.friendPrefab=null,e.globalBtn=null,e.friendBtn=null,e.globalBtnNormal=null,e.globalBtnPress=null,e.friendBtnNormal=null,e.friendBtnPress=null,e.leaderboardNode=null,e.friendNode=null,e.me=null,e.totalPlayer=null,e.totalFriend=null,e}return r(e,t),e.prototype.start=function(){return c(this,void 0,void 0,function(){return s(this,function(){return[2]})})},e.prototype.onEnable=function(){return c(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return a.default.s_intance.userInfo&&this.me.updateItem(a.default.s_intance.userInfo.user.name,a.default.s_intance.userInfo.user.total_bet),[4,this.onGlobalClick()];case 1:return t.sent(),[2]}})})},e.prototype.onClickCopyAddress=function(){return c(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,4]),[4,navigator.clipboard.writeText("https://t.me/dualassetBot?start="+a.default.s_intance.userInfo.user._id)];case 1:return t.sent(),[3,4];case 2:return t.sent(),[4,this.legacyCopy("https://t.me/dualassetBot?start="+a.default.s_intance.userInfo.user._id)];case 3:return t.sent(),[3,4];case 4:return[2]}})})},e.prototype.onClickCopyInvited=function(){return c(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,4]),[4,navigator.clipboard.writeText("/start="+a.default.s_intance.userInfo.user._id)];case 1:return t.sent(),[3,4];case 2:return t.sent(),[4,this.legacyCopy("/start="+a.default.s_intance.userInfo.user._id)];case 3:return t.sent(),[3,4];case 4:return[2]}})})},e.prototype.legacyCopy=function(t){var e=document.createElement("textarea");e.value=null!=t?t:"",e.style.position="absolute",e.style.opacity="0",document.body.appendChild(e),e.select(),document.execCommand("copy"),e.remove()},e.prototype.onFriendsClick=function(){return c(this,void 0,void 0,function(){var t,e,n,o;return s(this,function(r){switch(r.label){case 0:return u.default.s_intance.showLoading(),this.globalBtn.spriteFrame=this.globalBtnNormal,this.friendBtn.spriteFrame=this.friendBtnPress,[4,a.default.s_intance.getListRef()];case 1:for(t=r.sent(),e=this.parentFrienddNode.children,n=0;n<e.length;n++)e[n].destroy();for(this.totalFriend.string=t.data.length>1?t.data.length+" friends":t.data.length+" friend",n=0;n<t.data.length;n++)o=cc.instantiate(this.friendPrefab),this.parentFrienddNode.addChild(o),o.getComponent(l.default).updateItem(t.data[n].name,t.data[n].total_bet,n+1);return this.leaderboardNode.active=!1,this.friendNode.active=!0,u.default.s_intance.hildeLoading(),[2]}})})},e.prototype.onGlobalClick=function(){return c(this,void 0,void 0,function(){var t,e,n;return s(this,function(o){switch(o.label){case 0:return u.default.s_intance.showLoading(),this.globalBtn.spriteFrame=this.globalBtnPress,this.friendBtn.spriteFrame=this.friendBtnNormal,[4,a.default.s_intance.getListLeaderboard()];case 1:if(t=o.sent(),e=this.parentLeaderboardNode.children,t.data&&t.data.length>=7)for(console.log(t.data),this.totalPlayer.string=t.data[0].totalPlayer+" investors",n=0;n<e.length;n++)e[n].getComponent(l.default).updateItem(t.data[n].name,t.data[n].totalBet,n+1);return this.leaderboardNode.active=!0,this.friendNode.active=!1,u.default.s_intance.hildeLoading(),[2]}})})},i([f(cc.Node)],e.prototype,"parentLeaderboardNode",void 0),i([f(cc.Node)],e.prototype,"parentFrienddNode",void 0),i([f(cc.Prefab)],e.prototype,"friendPrefab",void 0),i([f(cc.Sprite)],e.prototype,"globalBtn",void 0),i([f(cc.Sprite)],e.prototype,"friendBtn",void 0),i([f(cc.SpriteFrame)],e.prototype,"globalBtnNormal",void 0),i([f(cc.SpriteFrame)],e.prototype,"globalBtnPress",void 0),i([f(cc.SpriteFrame)],e.prototype,"friendBtnNormal",void 0),i([f(cc.SpriteFrame)],e.prototype,"friendBtnPress",void 0),i([f(cc.Node)],e.prototype,"leaderboardNode",void 0),i([f(cc.Node)],e.prototype,"friendNode",void 0),i([f(l.default)],e.prototype,"me",void 0),i([f(cc.Label)],e.prototype,"totalPlayer",void 0),i([f(cc.Label)],e.prototype,"totalFriend",void 0),i([d],e)}(cc.Component);n.default=h,cc._RF.pop()},{"./APIService":"APIService","./FriendItem":"FriendItem","./SceneMgr":"SceneMgr"}],LoadingMgr:[function(t,e,n){"use strict";cc._RF.push(e,"fd5c6JKWuVEu45tGImD3yAo","LoadingMgr");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=cc._decorator,s=c.ccclass,a=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.loading=null,e}return r(e,t),e.prototype.onEnable=function(){setInterval(this.RotationLoading.bind(this),200)},e.prototype.RotationLoading=function(){this.loading&&(this.loading.angle-=30)},i([a(cc.Node)],e.prototype,"loading",void 0),i([s],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],PopupMgr:[function(t,e,n){"use strict";cc._RF.push(e,"000328hloxCnILKlgpF0+/W","PopupMgr");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=cc._decorator,s=c.ccclass,a=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.content=null,e.popupNode=null,e.btnConfirm=null,e}var n;return r(e,t),n=e,e.prototype.onLoad=function(){n.s_instance=this},e.prototype.start=function(){},e.prototype.onClosePopup=function(){this.popupNode.active=!1},e.prototype.showMessage=function(t,e){void 0===e&&(e=!0),this.content.string=t,this.popupNode.active=!0,this.btnConfirm.active=!!e},e.s_instance=null,i([a(cc.Label)],e.prototype,"content",void 0),i([a(cc.Node)],e.prototype,"popupNode",void 0),i([a(cc.Node)],e.prototype,"btnConfirm",void 0),n=i([s],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],Rule:[function(t,e,n){"use strict";cc._RF.push(e,"256d8v3j9BKw7WIdcLFWcqI","Rule");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=cc._decorator,s=c.ccclass,a=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return r(e,t),e.prototype.start=function(){},e.prototype.onClick=function(){this.node.active=!1},i([a(cc.Label)],e.prototype,"label",void 0),i([a],e.prototype,"text",void 0),i([s],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],SceneMgr:[function(t,e,n){"use strict";cc._RF.push(e,"9423b6FBKZHt7NCEVUe+r5W","SceneMgr");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=t("./BottomSelected"),s=t("./Constant"),a=cc._decorator,l=a.ccclass,u=a.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bottomMenu=null,e.mainMenu=null,e.gameplay=null,e.history=null,e.leaderboard=null,e.walletUI=null,e.loadingNode=null,e.swapUI=null,e.text="hello",e}var n;return r(e,t),n=e,e.prototype.onLoad=function(){n.s_intance=this},e.prototype.onStateChange=function(t){this.mainMenu.active=t===s.WalletUI.MainMenuUI,this.gameplay.active=t===s.WalletUI.HomeUI,this.leaderboard.active=t===s.WalletUI.Leaderboard,this.history.active=t===s.WalletUI.HistoryUI,this.walletUI.active=t===s.WalletUI.WalletUI,this.swapUI.active=t===s.WalletUI.Swap},e.prototype.start=function(){this.onStateChange(s.WalletUI.MainMenuUI)},e.prototype.onClickGameplay=function(){this.onStateChange(s.WalletUI.HomeUI),this.bottomMenu.active=!0,c.default.s_instance.selectItem(0)},e.prototype.onClickLeaderboard=function(){this.onStateChange(s.WalletUI.Leaderboard),this.bottomMenu.active=!0,c.default.s_instance.selectItem(1)},e.prototype.onClickHistory=function(){this.onStateChange(s.WalletUI.HistoryUI),this.bottomMenu.active=!0,c.default.s_instance.selectItem(2)},e.prototype.onClickWallet=function(){this.onStateChange(s.WalletUI.WalletUI),this.bottomMenu.active=!0,c.default.s_instance.selectItem(3)},e.prototype.showLoading=function(){this.loadingNode.active=!0},e.prototype.hildeLoading=function(){this.loadingNode.active=!1},e.prototype.onclickMenu1=function(){window.open("https://www.bybitglobal.com/vi-VN/earn/dual-asset-mining/")},e.prototype.onclickMenu2=function(){window.open("https://www.gate.io/vi/dual-currency-investment?type=put")},e.prototype.onclickMenu3=function(){window.open("https://www.bitget.com/vi/earning/dual-investment")},i([u(cc.Node)],e.prototype,"bottomMenu",void 0),i([u(cc.Node)],e.prototype,"mainMenu",void 0),i([u(cc.Node)],e.prototype,"gameplay",void 0),i([u(cc.Node)],e.prototype,"history",void 0),i([u(cc.Node)],e.prototype,"leaderboard",void 0),i([u(cc.Node)],e.prototype,"walletUI",void 0),i([u(cc.Node)],e.prototype,"loadingNode",void 0),i([u(cc.Node)],e.prototype,"swapUI",void 0),i([u],e.prototype,"text",void 0),n=i([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"./BottomSelected":"BottomSelected","./Constant":"Constant"}],SwapMgr:[function(t,e,n){"use strict";cc._RF.push(e,"16338TZttRMGJ8Z86tEqHLr","SwapMgr");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},c=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function c(t){try{a(o.next(t))}catch(e){i(e)}}function s(t){try{a(o.throw(t))}catch(e){i(e)}}function a(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(c,s)}a((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,r,i,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return a([t,e])}}function a(i){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,o=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!(r=(r=c.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){c=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){c.label=i[1];break}if(6===i[0]&&c.label<r[1]){c.label=r[1],r=i;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(i);break}r[2]&&c.ops.pop(),c.trys.pop();continue}i=e.call(t,c)}catch(s){i=[6,s],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./APIService"),l=t("./Constant"),u=t("./GameplayMgr"),p=t("./SceneMgr"),d=t("./Utils"),f=cc._decorator,h=f.ccclass,y=f.property,b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.iconTON=null,e.iconUSDT=null,e.fromIcon=null,e.toIcon=null,e.fromCoin=null,e.toCoin=null,e.amount=null,e.amountTo=null,e.maxLbl=null,e.fromType="ton.t",e.toType="usdt.t",e.max=0,e}var n;return r(e,t),n=e,e.prototype.onEnable=function(){},e.prototype.start=function(){n.s_instance=this},e.prototype.updateUISwap=function(t,e){this.fromType=t,this.toType=e,this.fromCoin.string=t,this.toCoin.string=e,this.fromType.includes("usdt")?this.fromIcon.spriteFrame=this.iconUSDT:this.fromIcon.spriteFrame=this.iconTON,this.toType.includes("usdt")?this.toIcon.spriteFrame=this.iconUSDT:this.toIcon.spriteFrame=this.iconTON,this.amount.string="",this.amountTo.string="0",this.maxLbl.string=""+this.max,p.default.s_intance.onStateChange(l.WalletUI.Swap)},e.prototype.updatePriceData=function(){this.fromType.includes("ton")?this.amountTo.string=""+Number(this.amount.string)*u.default.s_intance.price:this.amountTo.string=""+d.Utils.roundNumber(Number(this.amount.string)/u.default.s_intance.price,4)},e.prototype.onClickSwap=function(){return c(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return p.default.s_intance.showLoading(),[4,a.default.s_intance.swap(this.fromType,this.toType,Number(this.amount.string))];case 1:return t.sent(),[4,a.default.s_intance.requestGetPrivateKey()];case 2:return t.sent(),p.default.s_intance.onStateChange(l.WalletUI.WalletUI),p.default.s_intance.hildeLoading(),[2]}})})},e.prototype.onClickMax=function(){this.amount.string=""+this.max,this.updatePriceData()},e.s_instance=null,i([y(cc.SpriteFrame)],e.prototype,"iconTON",void 0),i([y(cc.SpriteFrame)],e.prototype,"iconUSDT",void 0),i([y(cc.Sprite)],e.prototype,"fromIcon",void 0),i([y(cc.Sprite)],e.prototype,"toIcon",void 0),i([y(cc.Label)],e.prototype,"fromCoin",void 0),i([y(cc.Label)],e.prototype,"toCoin",void 0),i([y(cc.EditBox)],e.prototype,"amount",void 0),i([y(cc.Label)],e.prototype,"amountTo",void 0),i([y(cc.Label)],e.prototype,"maxLbl",void 0),n=i([h],e)}(cc.Component);n.default=b,cc._RF.pop()},{"./APIService":"APIService","./Constant":"Constant","./GameplayMgr":"GameplayMgr","./SceneMgr":"SceneMgr","./Utils":"Utils"}],Test:[function(t,e,n){"use strict";cc._RF.push(e,"82f057xXIZEqoq4gO24ulpc","Test");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},c=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function c(t){try{a(o.next(t))}catch(e){i(e)}}function s(t){try{a(o.throw(t))}catch(e){i(e)}}function a(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(c,s)}a((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,r,i,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return a([t,e])}}function a(i){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,o=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!(r=(r=c.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){c=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){c.label=i[1];break}if(6===i[0]&&c.label<r[1]){c.label=r[1],r=i;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(i);break}r[2]&&c.ops.pop(),c.trys.pop();continue}i=e.call(t,c)}catch(s){i=[6,s],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,l=a.ccclass,u=a.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return r(e,t),e.prototype.start=function(){return c(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return[4,window.getWallet()];case 1:return t.sent(),[2]}})})},e.prototype.connect=function(){return c(this,void 0,void 0,function(){return s(this,function(){return[2]})})},i([u(cc.Label)],e.prototype,"label",void 0),i([u],e.prototype,"text",void 0),i([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{}],Utils:[function(t,e,n){"use strict";cc._RF.push(e,"417d4IIwkBKJrJ21K8SGw2L","Utils"),Object.defineProperty(n,"__esModule",{value:!0}),n.Utils=void 0;var o=function(){function t(){}return t.hideAddress=function(t){if(t)return t.substr(0,3)+"..."+t.substr(t.length-3,t.length-1)},t.roundNumber=function(t,e){return void 0===e&&(e=2),Math.floor(t*Math.pow(10,e))/Math.pow(10,e)},t.hideName=function(t){return t&&t.length>15?t.substr(0,15)+"...":t},t}();n.Utils=o,cc._RF.pop()},{}],WalletMgr:[function(t,e,n){"use strict";cc._RF.push(e,"6425daSVztHw7Yw/yMFByDd","WalletMgr");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},c=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function c(t){try{a(o.next(t))}catch(e){i(e)}}function s(t){try{a(o.throw(t))}catch(e){i(e)}}function a(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(c,s)}a((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,r,i,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return a([t,e])}}function a(i){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,o=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!(r=(r=c.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){c=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){c.label=i[1];break}if(6===i[0]&&c.label<r[1]){c.label=r[1],r=i;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(i);break}r[2]&&c.ops.pop(),c.trys.pop();continue}i=e.call(t,c)}catch(s){i=[6,s],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./APIService"),l=t("./HistoryItem"),u=t("./SwapMgr"),p=t("./Utils"),d=cc._decorator,f=d.ccclass,h=d.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.connectedNode=null,e.beginNode=null,e.popupMoney=null,e.popupSucess=null,e.walletAddress=null,e.popupMoneyTitle=null,e.amountMoney=null,e.historyNode=null,e.itemHistory=null,e.amountTon=null,e.amountUSDT=null,e.amountTonT=null,e.amountUSDTT=null,e.historyTab=null,e.balanceTab=null,e.historyButton=null,e.balanceButton=null,e.amount=null,e.totalmount=null,e.btnWalletInfo=null,e.btnWalletHistory=null,e.address=null,e.jeetonaddress=null,e.isDeposit=!0,e}var n;return r(e,t),n=e,e.prototype.onLoad=function(){return c(this,void 0,void 0,function(){return s(this,function(){return n.s_instance=this,this.beginNode.active=!0,this.connectedNode.active=!1,window.addEventListener("message",this.receiveMessage,!1),[2]})})},e.prototype.postP=function(t){var e=window.parent;this.sendP(e,t)},e.prototype.updatePrice=function(t){n.s_instance.totalmount.string=p.Utils.roundNumber(Number(a.default.s_intance.userInfo.user.usdt)+Number(a.default.s_intance.userInfo.user.ton)*Number(t),4)+"$"},e.prototype.sendP=function(t,e){t&&(console.log(e),t.postMessage(e,"*"))},e.prototype.buyData=function(){var t={action:"buy",jettonaddress:n.s_instance.jeetonaddress,amount:1e6*Number(this.amount.string)+"000"};console.log(t),this.postP(t)},e.prototype.start=function(){return c(this,void 0,void 0,function(){return s(this,function(){return window.getWallet(),[2]})})},e.prototype.onConnectClick=function(){return c(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return[4,window.connectdata()];case 1:return t.sent(),[2]}})})},e.prototype.receiveMessage=function(t){return c(this,void 0,void 0,function(){var e,o,r;return s(this,function(i){switch(i.label){case 0:console.log(t),i.label=1;case 1:return i.trys.push([1,7,,8]),(e=JSON.parse(t.data)).address?[4,a.default.s_intance.getAddress(e.address)]:[3,4];case 2:return o=i.sent(),n.s_instance.address=o.data,n.s_instance.walletAddress.string=p.Utils.hideAddress(n.s_instance.address),n.s_instance.beginNode.active=!1,n.s_instance.connectedNode.active=!0,[4,a.default.s_intance.getJettonAddress(n.s_instance.address)];case 3:i.sent(),n.s_instance.jeetonaddress=o.data,i.label=4;case 4:return e.check?[4,a.default.s_intance.checkDeposit()]:[3,6];case 5:i.sent(),this.popupSucess.active=!0,i.label=6;case 6:return[3,8];case 7:return r=i.sent(),console.log(r),[3,8];case 8:return[2]}})})},e.prototype.onClickDepoit=function(){this.isDeposit=!0,this.popupMoneyTitle.string="Deposit Ton",this.popupMoney.active=!0},e.prototype.onClickWithdraw=function(){this.isDeposit=!1,this.popupMoneyTitle.string="Withdraw Ton",this.popupMoney.active=!0},e.prototype.onClickConfirmt=function(){return c(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return console.log(this.isDeposit),this.isDeposit?(this.buyData(),[3,3]):[3,1];case 1:return[4,a.default.s_intance.withDraw(Number(this.amount.string))];case 2:t.sent(),this.popupSucess.active=!0,t.label=3;case 3:return[2]}})})},e.prototype.onClickClosePopup=function(){this.popupMoney.active=!1},e.prototype.onClickHistory=function(){return c(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return this.btnWalletHistory.enabled=!0,this.btnWalletInfo.enabled=!1,this.historyTab.active=!0,this.balanceTab.active=!1,[4,this.loadHistory()];case 1:return t.sent(),[2]}})})},e.prototype.onClickBalance=function(){return c(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return this.btnWalletHistory.enabled=!1,this.btnWalletInfo.enabled=!0,this.historyTab.active=!1,this.balanceTab.active=!0,[4,a.default.s_intance.requestGetPrivateKey()];case 1:return t.sent(),[2]}})})},e.prototype.swapUSDT=function(){u.default.s_instance.max=p.Utils.roundNumber(a.default.s_intance.userInfo.user.usdt,4),u.default.s_instance.updateUISwap("usdt","ton")},e.prototype.swapTON=function(){u.default.s_instance.max=p.Utils.roundNumber(a.default.s_intance.userInfo.user.ton,4),u.default.s_instance.updateUISwap("ton","usdt")},e.prototype.swapUSDTT=function(){u.default.s_instance.max=p.Utils.roundNumber(a.default.s_intance.userInfo.user.usdt_t,4),u.default.s_instance.updateUISwap("usdt.t","ton.t")},e.prototype.swapTONT=function(){u.default.s_instance.max=p.Utils.roundNumber(a.default.s_intance.userInfo.user.ton_t,4),u.default.s_instance.updateUISwap("ton.t","usdt.t")},e.prototype.loadHistory=function(){return c(this,void 0,void 0,function(){var t,e,n,o,r,i;return s(this,function(c){switch(c.label){case 0:return[4,a.default.s_intance.getHistory()];case 1:for(t=c.sent(),e=this.historyNode.children,n=0;n<e.length;n++)(o=e[n]).destroy();for(n=t.data.length-1;n>=0;n--)"tmp"!=(o=t.data[n]).type&&(r=cc.instantiate(this.itemHistory),this.historyNode.addChild(r),i=r.getComponent(l.default),new Date(o.updatedAt),i.initItem(o.time,o.type.includes("swap")?o.from:p.Utils.hideAddress(o.from),p.Utils.hideAddress(o.to),o.amount.toString(),o.type));return[2]}})})},e.prototype.updateWalletInfo=function(){this.amountUSDT.string=""+p.Utils.roundNumber(a.default.s_intance.userInfo.user.usdt,4),this.amountUSDTT.string=""+p.Utils.roundNumber(a.default.s_intance.userInfo.user.usdt_t,4),this.amountTon.string=""+p.Utils.roundNumber(a.default.s_intance.userInfo.user.ton),this.amountTonT.string=""+p.Utils.roundNumber(a.default.s_intance.userInfo.user.ton_t)},e.prototype.onCloseDepositPopup=function(){this.popupSucess.active=!1},e.s_instance=null,i([h(cc.Node)],e.prototype,"connectedNode",void 0),i([h(cc.Node)],e.prototype,"beginNode",void 0),i([h(cc.Node)],e.prototype,"popupMoney",void 0),i([h(cc.Node)],e.prototype,"popupSucess",void 0),i([h(cc.Label)],e.prototype,"walletAddress",void 0),i([h(cc.Label)],e.prototype,"popupMoneyTitle",void 0),i([h(cc.EditBox)],e.prototype,"amountMoney",void 0),i([h(cc.Node)],e.prototype,"historyNode",void 0),i([h(cc.Prefab)],e.prototype,"itemHistory",void 0),i([h(cc.Label)],e.prototype,"amountTon",void 0),i([h(cc.Label)],e.prototype,"amountUSDT",void 0),i([h(cc.Label)],e.prototype,"amountTonT",void 0),i([h(cc.Label)],e.prototype,"amountUSDTT",void 0),i([h(cc.Node)],e.prototype,"historyTab",void 0),i([h(cc.Node)],e.prototype,"balanceTab",void 0),i([h(cc.Node)],e.prototype,"historyButton",void 0),i([h(cc.Node)],e.prototype,"balanceButton",void 0),i([h(cc.EditBox)],e.prototype,"amount",void 0),i([h(cc.Label)],e.prototype,"totalmount",void 0),i([h(cc.Sprite)],e.prototype,"btnWalletInfo",void 0),i([h(cc.Sprite)],e.prototype,"btnWalletHistory",void 0),n=i([f],e)}(cc.Component);n.default=y,cc._RF.pop()},{"./APIService":"APIService","./HistoryItem":"HistoryItem","./SwapMgr":"SwapMgr","./Utils":"Utils"}]},{},["APIService","BottomSelected","ChartItem","Constant","FriendItem","GameplayMgr","HelloWorld","HistoryBet","HistoryBetItem","HistoryItem","ItemOrder","LeaderboardMgr","LoadingMgr","PopupMgr","Rule","SceneMgr","SwapMgr","Test","Utils","WalletMgr"]);